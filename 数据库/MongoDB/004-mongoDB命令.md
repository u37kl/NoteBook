

> use haha; // 切换数据库，当没有该数据库时，mongoDB会帮你创建，如果你没有在该数据库存储任何东西，当退出连接时，MongoDB会将这个数据库删除。
>
>  
>
> find函数接收两个对象，第一个对象为查询条件，第二个对象为展示列筛选条件。
>
> 

```java
/*
* 接收两个参数，参数1:查询条件，参数2:显示列的筛选条件。
* 显示设为1，不显示设为0，
* 参数2对象只有两种写法(对象中的值除了_id外，必须清一色同一个值，否则查询报错)：
* 1. 只指定展示的显示列，将所有需要展示的列名称写入对象中，并设置为1 
* 2. 只指定不展示的列，将所有不需要展示的列名称写入对象中，并设置为0
* _id是一个特殊列，它相当于主键，如果不设置它的值，默认展示。
* 
*/
// 表示 查询集合中所有高三的学生，只显示符合条件学生的学号和姓名
db.students.find({grade:'高三'}, {_id:0, stu_id:1, stu_name:1});
 
/*
* 查询条件的与或非。
*/
db.students.find({age:'男', grade:'高三'}); // 这是逻辑与，查询学生集合中所有高三男学生。
db.students.find({age:{$in:[18, 20]}}); // 逻辑或写法1，查询学生集合中年龄是18或20的学生。
db.students.find({$or:[{age:18},{age:20}]}) // 逻辑或写法2，查询学生集合中年龄是18或20的学生

/*
* 
*/
 db.students.find({age:{$nin:[19, 20]}}) // 这是逻辑非，查询学生集合中年龄不是19和20的学生。
  
/*
* > : $gt
* >= : $gte
* < : $lt
* <= : $lte
* = : $ne
*/
db.students.find({age:{$gt: 18}}) // 查询学生集合中大于18岁的学生。
  
db.find({}); // 查询该集合中所有数据


find和findOne函数的区别：find会遍历集合中虽有数据，而findOne只要找到目标就会停止向下查找，因此对于查询唯一数据时使用findOne效率更高，例如查询某个身份证号，某个电话号码，某个邮箱地址。
```



```java
db.students.insert() // 插入，是否也可以插入多条文档？可以
db.students.insertOne() // 插入一条文档
db.students.insertMany{[]} // 插入多条文档
```

```java
update
使用multi属性时，必须使用$set，否则执行报错，之前的版本不会，这是新版本加上的，因为如果不加$set使用multi非常危险，会将查询到的文档中其它未修改的列中的数据全部抹掉。
db.students.update({name:'zhansan'}, {age:19}); // 使用这条更新语句会将数据库中第一条张三信息除了年龄，其它信息全部抹掉。
db.students.update({name:'zhansan'}, {age:19},{multi:true}); // 使用这条更新语句，会将数据库中所有张三的信息除了年龄，其它信息全部抹掉，非常恐怖，因此新版本中，不使用$set直接报错。
```



